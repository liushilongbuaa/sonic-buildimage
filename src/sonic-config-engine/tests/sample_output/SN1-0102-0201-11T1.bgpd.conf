!
! =========== Managed by sonic-cfggen DO NOT edit manually! ====================
! generated by templates/quagga/bgpd.conf.j2 with config DB data
! file: bgpd.conf
!
! NOTICE:
! 1. Current configuration has all 'neighbor x.x.x.x allowas-in 1' commented out.
!    That means that BBR routing is disabled until SLBv2 is deployed
!
!
hostname sn1-0102-0201-11T1
password zebra
log syslog informational
log facility local4
! enable password !
!
! bgp multiple-instance
!
ip community-list standard LEAK_COMMUNITY permit 8075:10400
ip community-list standard UPSTREAM_PREFIX permit 8075:54000
ip community-list standard TYCOON_ER_COMMUNITY permit 12076:10450
ip community-list standard TYCOON_ER_COMMUNITY permit 8075:10451
!
ip prefix-list DEFAULT_IPV4 permit 0.0.0.0/0
ip prefix-list IPV4_18_OR_LONGER permit 0.0.0.0/0 ge 18
ip prefix-list IPV4_30_OR_LONGER permit 0.0.0.0/0 ge 30
!
ipv6 prefix-list DEFAULT_IPV6 permit ::/0
ipv6 prefix-list IPV6_64_ONLY permit ::/0 ge 64 le 64
!
route-map FROM_TIER0_V4 permit 10
 match community UPSTREAM_PREFIX
 match ip address prefix-list DEFAULT_IPV4
!
route-map FROM_TIER0_V4 permit 20
 match community LEAK_COMMUNITY
 match ip address prefix-list IPV4_18_OR_LONGER
 set comm-list LEAK_COMMUNITY delete
!
route-map FROM_TIER0_V4 permit 30
 match ip address prefix-list IPV4_18_OR_LONGER
!
route-map FROM_TIER0_V4 deny 1000
!
route-map FROM_TIER0_V6 permit 10
  match community UPSTREAM_PREFIX
  match ipv6 address prefix-list DEFAULT_IPV6
!
route-map FROM_TIER0_V6 permit 20
  match community LEAK_COMMUNITY
  match ipv6 address prefix-list IPV6_64_ONLY
  set comm-list LEAK_COMMUNITY delete
!
route-map FROM_TIER0_V6 permit 30
  match ipv6 address prefix-list IPV6_64_ONLY
!
route-map FROM_TIER0_V6 deny 1000
!
route-map FROM_TIER2_V4 permit 10
 set community 8075:54000 additive
!
route-map FROM_TIER2_V6 permit 10
 set community 8075:54000 additive
!
route-map TO_TIER0_V4 permit 10
 match community UPSTREAM_PREFIX
 match ip address prefix-list DEFAULT_IPV4
!
route-map TO_TIER0_V4 permit 20
 match community LEAK_COMMUNITY
!
route-map TO_TIER0_V4 permit 30
 match community UPSTREAM_PREFIX
 set community no-export additive
!
route-map TO_TIER0_V4 permit 1000
!
route-map TO_TIER0_V6 permit 10
 match community UPSTREAM_PREFIX
 match ipv6 address prefix-list DEFAULT_IPV6
!
route-map TO_TIER0_V6 permit 20
 match community LEAK_COMMUNITY
!
route-map TO_TIER0_V6 permit 30
 match community UPSTREAM_PREFIX
 set community no-export additive
!
route-map TO_TIER0_V6 permit 1000
!
route-map TO_TIER2_V4 deny 5
 match community UPSTREAM_PREFIX
!
route-map TO_TIER2_V4 permit 10
!
route-map TO_TIER2_V6 deny 5
 match community UPSTREAM_PREFIX
!
route-map TO_TIER2_V6 permit 10
!
!
route-map TO_TYCOON_ER_V4 permit 100
  match ip address prefix-list DEFAULT_IPV4
!
route-map TO_TYCOON_ER_V4 deny 10000
!
route-map FROM_TYCOON_ER_V4 deny 100
  match ip address prefix-list DEFAULT_IPV4
!
route-map FROM_TYCOON_ER_V4 permit 200
  match community TYCOON_ER_COMMUNITY
  match ip address prefix-list IPV4_30_OR_LONGER
!
route-map FROM_TYCOON_ER_V4 deny 10000
!
route-map TO_TYCOON_ER_V6 permit 100
  match ipv6 address prefix-list DEFAULT_IPV6
!
route-map TO_TYCOON_ER_V6 deny 10000
!
route-map FROM_TYCOON_ER_V6 deny 100
  match ipv6 address prefix-list DEFAULT_IPV6
!
route-map FROM_TYCOON_ER_V6 permit 200
  match community TYCOON_ER_COMMUNITY
  match ipv6 address prefix-list IPV6_64_ONLY
!
route-map FROM_TYCOON_ER_V6 deny 10000
!
!
!
router bgp 64817
  bgp log-neighbor-changes
  bgp bestpath as-path multipath-relax
  no bgp default ipv4-unicast
  bgp graceful-restart restart-time 180
  bgp graceful-restart
  bgp router-id 25.156.30.142
  network 25.156.30.142/32
  address-family ipv6
    network 2603:10b0:90b:90::/64
  exit-address-family
  neighbor 10.10.192.1 remote-as 64601
  neighbor 10.10.192.1 description sn1-a71x-abmcus-1a
  neighbor 10.10.192.1 shutdown
  address-family ipv4
    neighbor 10.10.192.1 activate
    neighbor 10.10.192.1 soft-reconfiguration inbound
    maximum-paths 64
!    neighbor 10.10.192.1 allowas-in 1
    neighbor 10.10.192.1 route-map FROM_TYCOON_ER_V4 in
    neighbor 10.10.192.1 route-map TO_TYCOON__ER_V4 out
    neighbor 10.10.192.1 send-community
    neighbor 10.10.192.1 maximum-prefix 6 60
  exit-address-family
  neighbor 10.10.192.3 remote-as 64602
  neighbor 10.10.192.3 description sn1-a71x-abmcus-1b
  neighbor 10.10.192.3 shutdown
  address-family ipv4
    neighbor 10.10.192.3 activate
    neighbor 10.10.192.3 soft-reconfiguration inbound
    maximum-paths 64
!    neighbor 10.10.192.3 allowas-in 1
    neighbor 10.10.192.3 route-map FROM_TYCOON_ER_V4 in
    neighbor 10.10.192.3 route-map TO_TYCOON__ER_V4 out
    neighbor 10.10.192.3 send-community
    neighbor 10.10.192.3 maximum-prefix 6 60
  exit-address-family
  neighbor 10.106.0.160 remote-as 64917
  neighbor 10.106.0.160 description sn1-0102-0100-01T2
  neighbor 10.106.0.160 shutdown
  address-family ipv4
    neighbor 10.106.0.160 activate
    neighbor 10.106.0.160 soft-reconfiguration inbound
    maximum-paths 64
    neighbor 10.106.0.160 route-map FROM_TIER2_V4 in
    neighbor 10.106.0.160 route-map TO_TIER2_V4 out
    neighbor 10.106.0.160 send-community
    neighbor 10.106.0.160 maximum-prefix 12000 90 warning-only
  exit-address-family
  neighbor 10.106.4.160 remote-as 64917
  neighbor 10.106.4.160 description sn1-0102-0100-02T2
  neighbor 10.106.4.160 shutdown
  address-family ipv4
    neighbor 10.106.4.160 activate
    neighbor 10.106.4.160 soft-reconfiguration inbound
    maximum-paths 64
    neighbor 10.106.4.160 route-map FROM_TIER2_V4 in
    neighbor 10.106.4.160 route-map TO_TIER2_V4 out
    neighbor 10.106.4.160 send-community
    neighbor 10.106.4.160 maximum-prefix 12000 90 warning-only
  exit-address-family
  neighbor 2603:10b0:90b:1::145 remote-as 64917
  neighbor 2603:10b0:90b:1::145 description sn1-0102-0100-02T2
  neighbor 2603:10b0:90b:1::145 shutdown
  address-family ipv6
    neighbor 2603:10b0:90b:1::145 activate
    neighbor 2603:10b0:90b:1::145 soft-reconfiguration inbound
    maximum-paths 64
    neighbor 2603:10b0:90b:1::145 route-map FROM_TIER2_V6 in
    neighbor 2603:10b0:90b:1::145 route-map TO_TIER2_V6 out
    neighbor 2603:10b0:90b:1::145 send-community
    neighbor 2603:10b0:90b:1::145 maximum-prefix 8000 90 warning-only
  exit-address-family
  neighbor 2603:10b0:90b:90::6 remote-as 64601
  neighbor 2603:10b0:90b:90::6 description sn1-a71x-abmcus-1a
  neighbor 2603:10b0:90b:90::6 shutdown
  address-family ipv6
    neighbor 2603:10b0:90b:90::6 activate
    neighbor 2603:10b0:90b:90::6 soft-reconfiguration inbound
    maximum-paths 64
!    neighbor 2603:10b0:90b:90::6 allowas-in 1
    neighbor 2603:10b0:90b:90::6 route-map FROM_TYCOON_ER_V6 in
    neighbor 2603:10b0:90b:90::6 route-map TO_TYCOON__ER_V6 out
    neighbor 2603:10b0:90b:90::6 send-community
    neighbor 2603:10b0:90b:90::6 maximum-prefix 4 50
  exit-address-family
  neighbor 2603:10b0:90b:90::a remote-as 64602
  neighbor 2603:10b0:90b:90::a description sn1-a71x-abmcus-1b
  neighbor 2603:10b0:90b:90::a shutdown
  address-family ipv6
    neighbor 2603:10b0:90b:90::a activate
    neighbor 2603:10b0:90b:90::a soft-reconfiguration inbound
    maximum-paths 64
!    neighbor 2603:10b0:90b:90::a allowas-in 1
    neighbor 2603:10b0:90b:90::a route-map FROM_TYCOON_ER_V6 in
    neighbor 2603:10b0:90b:90::a route-map TO_TYCOON__ER_V6 out
    neighbor 2603:10b0:90b:90::a send-community
    neighbor 2603:10b0:90b:90::a maximum-prefix 4 50
  exit-address-family
  neighbor 2603:10b0:90b::145 remote-as 64917
  neighbor 2603:10b0:90b::145 description sn1-0102-0100-01T2
  neighbor 2603:10b0:90b::145 shutdown
  address-family ipv6
    neighbor 2603:10b0:90b::145 activate
    neighbor 2603:10b0:90b::145 soft-reconfiguration inbound
    maximum-paths 64
    neighbor 2603:10b0:90b::145 route-map FROM_TIER2_V6 in
    neighbor 2603:10b0:90b::145 route-map TO_TIER2_V6 out
    neighbor 2603:10b0:90b::145 send-community
    neighbor 2603:10b0:90b::145 maximum-prefix 8000 90 warning-only
  exit-address-family
!
maximum-paths 64
!
route-map ISOLATE permit 10
set as-path prepend 64817
!
